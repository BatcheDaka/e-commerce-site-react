(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,c){e.exports={footer_container:"Footer_footer_container__1g2uA",left_side:"Footer_left_side__Qd3Ko",info:"Footer_info__3oaak",idk:"Footer_idk__uhEnc",icns:"Footer_icns__328Jj",right_side:"Footer_right_side__3NkZC",about:"Footer_about__f1kCQ",social_media_icons:"Footer_social_media_icons__1tlE3"}},101:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(26),s=c.n(r),i=c(5),o=(c(66),c(67),c(3)),l=(c(68),c(7)),j=c(0),d=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn,cart:e.cart,favoriteItems:e.favoriteItems}}))((function(e){return Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)("h1",{children:"Ladibas"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/",children:"Home"})}),Object(j.jsxs)("li",{className:"dropdown",children:[Object(j.jsx)("a",{children:"Category"}),Object(j.jsxs)("div",{className:"dropdown_content",children:[Object(j.jsx)(i.b,{to:"/category/clothes",children:"Clothes"}),Object(j.jsx)(i.b,{to:"/category/shoes",children:"Shoes"}),Object(j.jsx)(i.b,{to:"/category/hats",children:"Hats"}),Object(j.jsx)(i.b,{to:"/category/watches",children:"Watches"})]})]}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/contacts",children:"Contacts"})}),e.isLoggedIn?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{className:"cart_container",children:[e.cart.length>0?Object(j.jsx)("span",{className:"cart_counter",children:e.cart.length}):"",Object(j.jsx)(i.b,{to:"/cart",className:"user",children:"Cart"})]}),Object(j.jsxs)("li",{className:"profile_container",children:[e.favoriteItems.length>0?Object(j.jsx)("span",{className:"favItems_counter",children:e.favoriteItems.length}):"",Object(j.jsx)(i.b,{to:"/profile",className:"user",children:"Profile"})]}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/logout",className:"user",onClick:function(){window.location.reload(),localStorage.clear()},children:"Logout"})})]}):Object(j.jsx)("li",{className:"signIn",children:Object(j.jsx)(i.b,{to:"/login",children:"Sign in"})})]})]})})),u=(c(79),c(28)),m=c.n(u),b=c(21),_=c.n(b),h=(c(98),function(){return Object(j.jsx)("div",{className:"spinner",children:Object(j.jsxs)("div",{className:"lds-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})}),O="SET_USER",f="SET_PRODUCTS",p="ADD_TO_CART",x="ADD_TO_FAVORITE",v="REMOVE_FROM_CART",g="REMOVE_FROM_FAVORITE",y="REMOVE_ALL_ITEMS",N="ADJUST_QTY ",I="LOAD_CURRENT_ITEM",C=function(e){return{type:p,payload:{_id:e}}},F=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn,products:e.products}}),(function(e){return{setProducts:function(t){return e({type:f,payload:t})},addToCart:function(t){return e(C(t))},addToFavorite:function(t){return e({type:x,payload:{_id:t}})}}}))((function(e){var t=e.match.params.category;return Object(a.useEffect)((function(){(function(e){var t=e&&"undefined"!==e?"?category=".concat(e):"";return _.a.get("/items".concat(t))})(t).then((function(c){var a=t?c.data.filter((function(e){return e.category===t})):c.data;e.setProducts(a)})).catch((function(e){return alert(e)}))}),[t]),Object(j.jsx)("div",{className:"items_container",children:e.products.length>0?e.products.map((function(t){return Object(j.jsxs)("section",{children:[e.isLoggedIn?Object(j.jsx)(m.a,{onClick:function(){return e.addToFavorite(t._id)},className:"fav_icon"}):Object(j.jsx)(m.a,{onClick:function(){return e.history.push("/login")},className:"fav_icon"}),Object(j.jsx)("img",{src:t.img,alt:"item_img"}),Object(j.jsx)("h5",{children:t.title}),Object(j.jsxs)("p",{children:[t.price," $"]}),e.isLoggedIn?Object(j.jsx)("button",{onClick:function(){return e.addToCart(t._id)},children:"Add to cart"}):Object(j.jsx)("button",{onClick:function(){return e.history.push("/login")},children:"Add to cart"})]},t._id)})):Object(j.jsx)(h,{})})})),E=c(9),S=c(22),w=c.n(S),k=c(27),L=c.n(k),A=c(30),P=c.n(A),R=function(e){e.history;var t=Object(a.useState)(""),c=Object(E.a)(t,2),n=c[0],r=c[1];return Object(j.jsx)("div",{className:w.a.form_container,children:Object(j.jsxs)("form",{className:w.a.form,onSubmit:function(e){e.preventDefault();var t=e.target.email.value,c=e.target.password.value;if(!t||!c)return r("All fields are required!");(function(e,t){var c={email:e,password:t};return _.a.post("/login",c)})(t,c).then((function(e){if("email"!==e.data)if("pass"!==e.data){var t=e.data.token,c=e.data.username;t&&(localStorage.setItem("token",t),localStorage.setItem("username",c),window.location.reload())}else r("Incorrect password");else r("Incorrect email")})).catch((function(e){return alert(e)}))},children:[Object(j.jsx)("h2",{children:"Sign In"}),Object(j.jsx)("div",{className:w.a.errorMsg,children:n}),Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsxs)("div",{className:w.a.input_content,children:[Object(j.jsx)(L.a,{className:w.a.icons}),Object(j.jsx)("input",{id:"email",type:"text",name:"email",placeholder:"Enter your email"})]}),Object(j.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(j.jsxs)("div",{className:w.a.input_content,children:[Object(j.jsx)(P.a,{className:w.a.icons}),Object(j.jsx)("input",{id:"pass",type:"password",name:"password",placeholder:"Enter your password"})]}),Object(j.jsx)("button",{children:"Sign In"}),Object(j.jsxs)("p",{children:[" Don't have an account? ",Object(j.jsx)(i.b,{to:"/register",children:"Register"})]})]})})},T=c(17),M=c.n(T),q=c(51),D=c.n(q),U=function(e){var t=e.history,c=Object(a.useState)(""),n=Object(E.a)(c,2),r=n[0],s=n[1];return Object(j.jsx)("div",{className:M.a.form_container,children:Object(j.jsxs)("form",{className:M.a.form,onSubmit:function(e){e.preventDefault();var c=e.target.email.value,a=e.target.username.value,n=e.target.password.value,r=e.target.rePass.value;return a&&c&&n&&r?n!==r?s("Passwords don't match!"):void function(e,t,c){var a={username:e,email:t,password:c};return _.a.post("/register",a)}(a,c,n).then((function(e){"bad"===e.data?s("Email already exist!"):s(null),t.push("/login")})).catch((function(e){return alert(e)})):s("All fields are required!")},children:[Object(j.jsx)("h2",{children:"Create an account"}),Object(j.jsx)("div",{className:M.a.errorMsg,children:r}),Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsxs)("div",{className:M.a.input_content,children:[Object(j.jsx)(D.a,{className:M.a.icons}),Object(j.jsx)("input",{id:"username",type:"text",name:"username",placeholder:"Enter your username"})]}),Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsxs)("div",{className:M.a.input_content,children:[Object(j.jsx)(L.a,{className:M.a.icons}),Object(j.jsx)("input",{id:"email",type:"text",name:"email",placeholder:"Enter your email"})]}),Object(j.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(j.jsxs)("div",{className:M.a.input_content,children:[Object(j.jsx)(P.a,{className:M.a.icons}),Object(j.jsx)("input",{id:"pass",type:"password",name:"password",placeholder:"Enter your password"})]}),Object(j.jsx)("label",{htmlFor:"rePass",children:"Confirm Password"}),Object(j.jsxs)("div",{className:M.a.input_content,children:[Object(j.jsx)(P.a,{className:M.a.icons}),Object(j.jsx)("input",{id:"rePass",type:"password",name:"rePass",placeholder:"Confirm your password"})]}),Object(j.jsx)("button",{children:"Sign Up"}),Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)(i.b,{to:"/login",children:"Login"})]})]})})},V=c(10),Q=c.n(V),J=c(52),B=c.n(J),Y=c(53),W=c.n(Y),Z=c(54),$=c.n(Z),G=c(55),z=c.n(G),H=c(56),K=c.n(H),X=c(57),ee=c.n(X),te=function(){return Object(j.jsxs)("div",{className:Q.a.footer_container,children:[Object(j.jsxs)("div",{className:Q.a.left_side,children:[Object(j.jsxs)("div",{className:Q.a.idk,children:[Object(j.jsx)(B.a,{className:Q.a.icns}),Object(j.jsx)(W.a,{className:Q.a.icns}),Object(j.jsx)(L.a,{className:Q.a.icns})]}),Object(j.jsxs)("div",{className:Q.a.info,children:[Object(j.jsx)("p",{children:"Pirotska Street"}),Object(j.jsx)("h3",{children:"Sofia, Bulgaria"}),Object(j.jsx)("h4",{children:"+359 888 123 456"}),Object(j.jsx)("p",{children:"dakata@gmail.com"})]})]}),Object(j.jsx)("div",{className:Q.a.right_side,children:Object(j.jsxs)("div",{className:Q.a.about,children:[Object(j.jsx)("h2",{children:"About company"}),Object(j.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus lacinia mi et commodo rutrum. Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(j.jsxs)("div",{className:"social_media",children:[Object(j.jsx)($.a,{className:Q.a.social_media_icons}),Object(j.jsx)(z.a,{className:Q.a.social_media_icons}),Object(j.jsx)(K.a,{className:Q.a.social_media_icons}),Object(j.jsx)(ee.a,{className:Q.a.social_media_icons})]})]})})]})},ce=c(35),ae=c.n(ce),ne=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),s=Object(E.a)(r,2),i=s[0],o=s[1];return Object(j.jsxs)(j.Fragment,{children:[c?Object(j.jsx)("div",{className:ae.a.feedback_msg,children:Object(j.jsx)("h3",{children:"Thank you for contacting us!"})}):"",Object(j.jsx)("div",{className:ae.a.contacts_container,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.name.value,c=e.target.email.value,a=e.target.msg.value;if(!(t&&c&&a))return o(!0);o(!1),e.target.name.value="",e.target.email.value="",e.target.msg.value="",n(!0),setTimeout((function(){n(!1)}),4e3)},children:[Object(j.jsx)("h2",{children:"Contact Us"}),i?Object(j.jsx)("div",{className:ae.a.errorMsg,children:Object(j.jsx)("p",{children:"All fields are required!"})}):"",Object(j.jsx)("input",{type:"text",name:"name",placeholder:"Enter your Name"}),Object(j.jsx)("input",{type:"text",name:"email",placeholder:"Enter a valid email addres"}),Object(j.jsx)("textarea",{cols:"20",rows:"5",type:"text",name:"msg",placeholder:"Enter your message"}),Object(j.jsx)("button",{children:"Send"})]})})]})},re=c(36),se=c.n(re),ie=c(37),oe=c.n(ie),le=c(34),je=c.n(le),de=Object(l.b)(null,(function(e){return{removeFromCart:function(t){return e({type:v,payload:{_id:t}})},adjustQty:function(t,c){return e(function(e,t){return{type:N,payload:{_id:e,qty:t}}}(t,c))}}}))((function(e){var t=Object(a.useState)(e.items.qty),c=Object(E.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(e.items.price),i=Object(E.a)(s,2),o=i[0],l=i[1],d=e.items.price;Object(a.useEffect)((function(){l((d*n).toFixed(2))}),[o,n,d]);return Object(j.jsxs)("section",{className:oe.a.cartItem,children:[Object(j.jsx)("img",{src:e.items.img,alt:"img"}),Object(j.jsx)("h3",{children:e.items.title}),Object(j.jsxs)("p",{children:[e.items.price,"$"]}),Object(j.jsxs)("div",{className:oe.a.quantity,children:[Object(j.jsx)("button",{onClick:function(t){if(n>1){var c=Number(t.target.parentNode.children[1].textContent);r(c-=1),e.adjustQty(e.items._id,c)}},children:"-"}),Object(j.jsx)("span",{children:n}),Object(j.jsx)("button",{onClick:function(t){var c=Number(t.target.parentNode.children[1].textContent);r(c+=1),e.adjustQty(e.items._id,c)},children:"+"})]}),Object(j.jsxs)("h2",{children:[o,"$"]}),Object(j.jsx)(je.a,{onClick:function(){return e.removeFromCart(e.items._id)},className:oe.a.remove_item})]})})),ue=Object(l.b)((function(e){return{cart:e.cart}}),(function(e){return{removeAllItems:function(){return e({type:y})}}}))((function(e){var t=Object(a.useState)(0),c=Object(E.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){var t=0;e.cart.forEach((function(e){t+=e.price*e.qty})),r(t.toFixed(2))}),[e.cart,n,r]),Object(j.jsxs)("div",{className:se.a.cart_container,children:[e.cart.map((function(e){return Object(j.jsx)(de,{items:e},e._id)})),e.cart.length>0?Object(j.jsxs)("div",{className:se.a.cart_purchase,children:[Object(j.jsx)("button",{onClick:function(){e.removeAllItems(),e.history.push("/purchase")},children:"Purchase"}),Object(j.jsxs)("h2",{children:[n,"$"]})]}):Object(j.jsxs)("div",{className:se.a.empty_cart,children:[Object(j.jsx)("h2",{children:"Your cart is empty!"}),Object(j.jsxs)("p",{children:["Visit our ",Object(j.jsx)(i.b,{to:"/",children:"store"})," and choose the best items for you."]})]})]})})),me=c(58),be=c.n(me),_e=function(){return Object(j.jsxs)("div",{className:be.a.purchase_container,children:[Object(j.jsx)("h2",{children:"You have successfully made your purchase!"}),Object(j.jsxs)("p",{children:["Go back to ",Object(j.jsx)(i.b,{to:"/",children:"store"})]})]})},he=c(31),Oe=c.n(he),fe=c(59),pe=c.n(fe),xe=Object(l.b)((function(e){return{cart:e.cart,favoriteItems:e.favoriteItems,user:e.user}}))((function(e){return Object(j.jsx)("div",{className:Oe.a.profile_container,children:Object(j.jsxs)("div",{className:Oe.a.profile_content,children:[Object(j.jsx)(pe.a,{className:Oe.a.profile_icon}),Object(j.jsxs)("h3",{children:["Username: ",null!=e.user?e.user.username:""]}),Object(j.jsxs)("p",{children:["Items in your cart: ",e.cart.length]}),Object(j.jsxs)(i.b,{to:"/profile/favorite-items",className:Oe.a.fav_items,children:["Favorite items: ",e.favoriteItems.length]})]})})})),ve=c(32),ge=c.n(ve),ye=Object(l.b)((function(e){return{favoriteItems:e.favoriteItems}}),(function(e){return{addToCart:function(t){return e(C(t))},removeFromFavorite:function(t){return e({type:g,payload:{_id:t}})}}}))((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:ge.a.container,children:Object(j.jsx)(m.a,{className:ge.a.fav_icon})}),Object(j.jsx)("div",{className:ge.a.items_container,children:0===e.favoriteItems.length?Object(j.jsx)("h2",{children:"You have no favorite items"}):e.favoriteItems.map((function(t){return console.log(e.favoriteItems),Object(j.jsxs)("section",{children:[Object(j.jsx)(je.a,{onClick:function(){return e.removeFromFavorite(t._id)},className:ge.a.remove}),Object(j.jsx)("img",{src:t.img,alt:"item_img"}),Object(j.jsx)("h5",{children:t.title}),Object(j.jsx)("p",{children:t.price}),Object(j.jsx)("button",{onClick:function(){return e.addToCart(t._id)},children:"Add to cart"})]},t._id)}))})]})}));var Ne=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),(function(e){return{setUser:function(t){return e({type:O,payload:t})}}}))((function(e){var t=Object(o.e)();return Object(a.useEffect)((function(){_.a.get("/user").then((function(t){e.setUser(t.data)})).catch((function(e){return console.log(e)}))})),e.isLoggedIn&&("/login"!==t.location.pathname&&"/register"!==t.location.pathname||t.push("/")),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsx)(o.a,{path:"/",exact:!0,component:F}),Object(j.jsx)(o.a,{path:"/category/:category",component:F}),Object(j.jsx)(o.a,{path:"/login",component:R}),Object(j.jsx)(o.a,{path:"/register",component:U}),Object(j.jsx)(o.a,{path:"/spinner",component:h}),Object(j.jsx)(o.a,{path:"/contacts",component:ne}),Object(j.jsx)(o.a,{path:"/cart",component:ue}),Object(j.jsx)(o.a,{path:"/purchase",component:_e}),Object(j.jsx)(o.a,{path:"/profile",exact:!0,component:xe}),Object(j.jsx)(o.a,{path:"/profile/favorite-items",component:ye}),Object(j.jsx)(te,{})]})})),Ie=c(39),Ce=c(60),Fe=c(25),Ee=c(4),Se={user:{},isLoggedIn:!1,products:[],favoriteItems:[],cart:[],currentItem:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Ee.a)(Object(Ee.a)({},e),{},{user:t.payload,isLoggedIn:!0});case f:return Object(Ee.a)(Object(Ee.a)({},e),{},{products:t.payload});case p:var c=e.products.find((function(e){return e._id===t.payload._id})),a=e.cart.find((function(e){return e._id===t.payload._id}));return Object(Ee.a)(Object(Ee.a)({},e),{},{cart:a?e.cart.map((function(e){return e._id===t.payload._id?Object(Ee.a)(Object(Ee.a)({},e),{},{qty:e.qty+1}):e})):[].concat(Object(Fe.a)(e.cart),[Object(Ee.a)(Object(Ee.a)({},c),{},{qty:1})])});case v:return Object(Ee.a)(Object(Ee.a)({},e),{},{cart:e.cart.filter((function(e){return e._id!==t.payload._id}))});case x:var n=e.products.find((function(e){return e._id===t.payload._id})),r=e.favoriteItems.find((function(e){return e._id===t.payload._id}));return Object(Ee.a)(Object(Ee.a)({},e),{},{favoriteItems:r?e.favoriteItems.map((function(e){return e._id===t.payload._id?Object(Ee.a)({},e):e})):[].concat(Object(Fe.a)(e.favoriteItems),[Object(Ee.a)({},n)])});case g:return Object(Ee.a)(Object(Ee.a)({},e),{},{favoriteItems:e.favoriteItems.filter((function(e){return e._id!==t.payload._id}))});case N:return Object(Ee.a)(Object(Ee.a)({},e),{},{cart:e.cart.map((function(e){return e._id===t.payload._id?Object(Ee.a)(Object(Ee.a)({},e),{},{qty:t.payload.qty}):e}))});case y:return Object(Ee.a)(Object(Ee.a)({},e),{},{cart:[]});case I:return Object(Ee.a)(Object(Ee.a)({},e),{},{currentItem:t.payload});default:return e}},ke=Object(Ie.createStore)(we,Object(Ce.composeWithDevTools)());_.a.defaults.baseURL="http://localhost:4000",_.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(l.a,{store:ke,children:Object(j.jsx)(Ne,{})})})}),document.getElementById("root"))},17:function(e,t,c){e.exports={form_container:"Register_form_container__3iRYW",form:"Register_form__36oQG",errorMsg:"Register_errorMsg__1D4M9",input_content:"Register_input_content__1fdUM",icons:"Register_icons__3dEOr"}},22:function(e,t,c){e.exports={form_container:"Login_form_container__2ljcj",form:"Login_form__3qdC8",errorMsg:"Login_errorMsg__2hq38",input_content:"Login_input_content__1VRjb",icons:"Login_icons__2_Lwj"}},31:function(e,t,c){e.exports={profile_container:"Profile_profile_container__1mAMP",profile_content:"Profile_profile_content__1ebW9",profile_icon:"Profile_profile_icon__3P7S3",fav_items:"Profile_fav_items__31TvB"}},32:function(e,t,c){e.exports={container:"FavoriteItems_container__2tf0w",fav_icon:"FavoriteItems_fav_icon__3Jolc",items_container:"FavoriteItems_items_container__1Jvcs",empty:"FavoriteItems_empty__3Rm7S",remove:"FavoriteItems_remove__1XZ3S"}},35:function(e,t,c){e.exports={contacts_container:"Contacts_contacts_container__2FFuR",errorMsg:"Contacts_errorMsg__5UZhV",feedback_msg:"Contacts_feedback_msg__1AB8n"}},36:function(e,t,c){e.exports={cart_container:"Cart_cart_container__2SLw7",cart_purchase:"Cart_cart_purchase__10zjZ",empty_cart:"Cart_empty_cart__yc7ki",empty:"Cart_empty__2w45b",quantity:"Cart_quantity__38Utr"}},37:function(e,t,c){e.exports={cartItem:"CartItem_cartItem__V53GC",quantity:"CartItem_quantity__3PCLv",remove_item:"CartItem_remove_item__2_0fM"}},58:function(e,t,c){e.exports={purchase_container:"Purchase_purchase_container__l5vPD"}},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},79:function(e,t,c){},98:function(e,t,c){}},[[101,1,2]]]);
//# sourceMappingURL=main.57a6c5df.chunk.js.map